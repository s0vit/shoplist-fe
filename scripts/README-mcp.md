# MCP Browser Tools Script

Универсальный скрипт для запуска MCP (Model Context Protocol) сервера browser tools.

## Возможности

- ✅ Работает на всех ОС: Windows, macOS, Linux
- ✅ Автоматическая проверка зависимостей
- ✅ Проверка и освобождение занятого порта
- ✅ Цветной вывод в терминале
- ✅ Корректная обработка сигналов завершения

## Использование

### Через npm/pnpm скрипты

```bash
# Запуск с дефолтным портом (3001)
pnpm run mcp:browser

# Запуск с кастомным портом
pnpm run mcp:browser:dev

# Или напрямую
node scripts/start-mcp-browser.cjs [port]
```

### Параметры

- `port` (опционально) - порт для запуска сервера (по умолчанию: 3001)

### Примеры

```bash
# Запуск на порту 3001
node scripts/start-mcp-browser.cjs

# Запуск на порту 8080
node scripts/start-mcp-browser.cjs 8080

# Через pnpm
pnpm run mcp:browser:dev
```

## Требования

- Node.js >= 20
- pnpm >= 9.0.0

## Что делает скрипт

1. **Проверяет зависимости**: Node.js и pnpm
2. **Валидирует порт**: проверяет корректность и диапазон
3. **Освобождает порт**: автоматически убивает процессы на занятом порту
4. **Устанавливает зависимости**: если node_modules отсутствует
5. **Запускает MCP сервер**: с правильными параметрами
6. **Обрабатывает вывод**: цветной вывод логов
7. **Корректно завершается**: по Ctrl+C или другим сигналам

## Поддержка ОС

- **Windows**: использует `netstat` и `taskkill`
- **macOS/Linux**: использует `lsof` и `kill`

## Устранение проблем

### Порт занят
Скрипт автоматически попытается освободить порт. Если не получается, остановите процесс вручную:

```bash
# Windows
netstat -ano | findstr :3001
taskkill /PID <PID> /F

# macOS/Linux
lsof -ti:3001 | xargs kill -9
```

### Ошибки зависимостей
Убедитесь, что установлены все зависимости:

```bash
pnpm install
```

### Проблемы с правами
На Unix системах может потребоваться sudo для освобождения порта:

```bash
sudo node scripts/start-mcp-browser.cjs
``` 